<script setup lang="ts">
import { ref, computed, onMounted } from "vue";
import CalendarBase from "@/components/CalendarBase.vue";
import CalendarToolbar from "@/components/CalendarToolbar.vue"; // ì„ íƒ ì‚¬í•­

// âœ… ì˜ˆì‹œ: ìž„ì‹œ ì´ë²¤íŠ¸ ë°ì´í„°
const events = ref([
  { title: "íŒ€ íšŒì˜", start: "2025-11-03" },
  { title: "ì½”ë“œ ë¦¬ë·°", start: "2025-11-05" },
  { title: "Orbit ë°°í¬", start: "2025-11-10" },
]);

// âœ… ë³´ê¸° íƒ€ìž… ë³€ê²½ ê°€ëŠ¥ (month/week/day)
const viewType = ref("dayGridMonth");

// âœ… ë™ì ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥í•˜ë„ë¡ watch ì²˜ë¦¬
const safeEvents = computed(() => (Array.isArray(events.value) ? events.value : []));

onMounted(() => {
  console.log("ðŸ“… CalendarView mounted: ", safeEvents.value);
});
</script>

<template>
  <div class="calendar-container">
    <!-- íˆ´ë°” -->
    <CalendarToolbar />

    <!-- ìº˜ë¦°ë” -->
    <CalendarBase :events="safeEvents" :viewType="viewType" />
  </div>
</template>

<style scoped>
.calendar-container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 24px;
  background-color: #fafafa;
  border-radius: 20px;
}
</style>
